# class MyClass:
#     def __init__(self, Attribute1, Attribute2):
#         self.Attribute1 = Attribute1
#         self.Attribute2 = Attribute2
#
#     def MyFirstFunc(MyObject):
#         print(MyObject.Attribute1)
#
# Object1 = MyClass(12, 43256)
# Object1.MyFirstFunc()

import pandas as pd

global UserName, Amount

def MainMenu():
    global df, file_name
    print("Welcome to ZZ's first Project!")
    NewOrExisting = input("If you are a new user, press 1. If you are an existing user, press 2")
    if NewOrExisting == "1" :
        UserName = input("What is your name?")
        CreateTable()
        Prompt()
    elif NewOrExisting == "2" :
        UserName = input("What is your name?")
        file_name = UserName + '.csv'
        df = pd.read_csv(file_name)
        Prompt()
    else:
        print("Invalid Response!")
        MainMenu()


def CreateTable():
    global df, file_name
    data = {
        "Category" : [],
        "Amount" : [],
    }
    df = pd.DataFrame(data)
    file_name = UserName + '.csv'
    df.to_csv(file_name)

def Prompt():
    AddInput = input("Would you like to add data? 'Yes' or 'No'?")
    if AddInput == 'Yes':
        print("You wanted to add an input")
        Inflow_or_Outflow()
    elif AddInput == 'No':
        print("You did not want to add an input")
    else:
        print("Invalid Response!")
        Prompt()

def Inflow_or_Outflow():
    In_or_Out = input("Would you like to record an 'Inflow' or 'Outflow' of money?")
    if In_or_Out == 'Inflow':
        print("You wanted to input an Inflow")
        InflowAmount()
    elif In_or_Out == 'Outflow':
        print("You wanted to input an Outflow")
        OutflowAmount()
    else:
        print("Invalid Response!")
        Inflow_or_Outflow()

def InflowAmount():
    global df
    Amount = input("What was the amount?")
    InflowData = {
        "Category": ["Inflow"],
        "Amount": [Amount],
    }
    temp_inflow_df = pd.DataFrame(InflowData)
    print(df)
    print(temp_inflow_df)
    new_df = pd.concat([df, temp_inflow_df], axis = 0, ignore_index = True, sort = True)
    df = new_df
    print("You had an increase of " + Amount + " dollars")
    df = df.reset_index(drop = True)
    df.to_csv(file_name)

def OutflowAmount():
    global df, file_name
    Amount = input("What was the amount?")
    OutflowData = {
        "Category": ["Outflow"],
        "Amount": [Amount]
    }
    temp_outflow_df = pd.DataFrame(OutflowData)
    print(df)
    print(temp_outflow_df)
    new_df = pd.concat([df, temp_outflow_df], axis = 0, ignore_index=True, sort = True)
    df = new_df
    print("You had an decrease of " + Amount + " dollars")
    df = df.reset_index(drop = True)
    df.to_csv(file_name)

MainMenu()

print(df)
